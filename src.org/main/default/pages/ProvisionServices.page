<apex:page standardController="Opportunity" recordSetVar="opportunities" showHeader="false" sidebar="false" extensions="ProvisionServicesController" standardStylesheets="false" lightningStylesheets="true">
    <apex:form >
        <apex:pageMessages />
        <apex:pageBlock title="Selected Opportunities" mode="edit">
            <apex:pageBlockSection title="Selected Records" columns="1">
                <apex:pageBlockTable value="{!selected}" var="opp">
                    <apex:column headerValue="ID" width="15%">
                        <apex:outputText value="{!opp.Id}"/>
                    </apex:column>
                    <apex:column headerValue="Opportunity Name" width="25%">
                        <apex:outputLink value="/{!opp.Id}" target="_blank">
                            {!opp.Name}
                        </apex:outputLink>
                    </apex:column>
                    <apex:column headerValue="Account" value="{!opp.Account.Name}" width="20%"/>
                    <apex:column headerValue="Stage" value="{!opp.StageName}" width="15%"/>
                    <apex:column headerValue="Amount" width="15%">
                        <apex:outputText value="{!opp.Amount}" rendered="{!opp.Amount != null}"/>
                        <apex:outputText value="-" rendered="{!opp.Amount == null}"/>
                    </apex:column>
                    <apex:column headerValue="Close Date" value="{!opp.CloseDate}" width="10%"/>
                </apex:pageBlockTable>
            </apex:pageBlockSection>
            
            <apex:pageBlockButtons >
                <apex:commandButton value="Provision Services for Selected" action="{!provisionServicesForSelected}" 
                                   styleClass="btn-primary"/>
                <apex:commandButton value="Close" action="{!cancel}" styleClass="btn"/>
            </apex:pageBlockButtons>
        </apex:pageBlock>
    </apex:form>
</apex:page>